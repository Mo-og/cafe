<!doctype html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0">
    <link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
    <title> Изменение данных блюда </title>
    <!-- CSS -->
    <link type="text/css" rel="stylesheet" href="../css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="../css/owl.carousel.min.css">
    <link type="text/css" rel="stylesheet" href="../css/font-awesome.css">
    <link type="text/css" href="../css/animate.css" rel="stylesheet" />
    <link type="text/css" href="../css/magnific-popup.css" rel="stylesheet" />
    <link type="text/css" href="../css/bootstrap-datetimepicker.css" rel="stylesheet" />
    <link type="text/css" href="../css/style.css?v=1.0" rel="stylesheet" />
    <link type="text/css" href="../css/media.css?v=1.0" rel="stylesheet" />
</head>
<body id="mainBox" class="creamBg" data-spy="scroll" data-target="#bs-example-navbar-collapse-1" data-offset="150">
<div id="site-head">
    <!-- Header Section Begins -->
    <header id="header" class="header-block" data-top="0" data-scroll="100">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 main-menu">
                    <div class="menuBar scrollbtn">
                        <nav class="navbar navbar-default">
                            <div class="container-fluid">
                                <div class="navbar-header">
                                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                    <!--<div class="logo">
                                        <h3><a class="navbar-collapse" th:href="@{/Director/index}">КАФЕ GORBIK</a></h3>
                                    </div>-->
                                </div>
                                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                                    <ul class="nav navbar-nav navbar-right">
                                        <li class="active"><a th:href="@{/}"><span
                                                style="color: #ff7f50;">Главная</span></a></li>
                                        <li><a th:href="@{/menu}"><span style="color: #ff7f50;">Меню</span></a></li>
                                        <li><a th:href="@{/users}"><span
                                                style="color: #ff7f50;">Сотрудники</span></a></li>
                                        <li><a th:href="@{/orders}"><span style="color: #ff7f50;">Заказы</span></a></li>
                                        <li><a th:href="@{/report}"><span style="color: #ff7f50;">Отчет</span></a></li>
                                        <li><a onclick="return confirm('Вы уверены, что хотите выйти из личного кабинета?');"
                                           th:href="@{/logout}"><span style="color: #ff7f50;">Выход</span></a></li></ul>
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Header Section Ends -->

    <section  class="reservation-block pad-top-100 pad-bottom-100">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><br>
                    <h2 class="block-title text-align-center"><span class="side-img left-side-img"><i></i><i></i><i></i></span>
                        Изменение данных блюда<span class="side-img right-side-img"><i></i><i></i><i></i></span></h2>
                    <br><h4 class="block-title text-align-center">Измените необходимые поля и нажмите кнопку 'Сохранить
                        блюдо'</h4>
                    <br>
                    <form enctype="multipart/form-data" th:action="@{/dish_update}" th:object="${dish}" method="post"
                          novalidate>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 class="mb-3">Поля для заполнения</h4>
                                <div class="col"><label for="id"><input th:field="*{id}" type="hidden"
                                                                        class="form-control" id="id"
                                                                        th:value="${dish.id}"></label></div>
                                <div class="row">
                                    <div class="col-md-4 mb-3">
                                        <label for="name">Название блюда</label>
                                        <input th:field="*{name}" type="text" class="form-control" id="name" placeholder=""
                                               th:value="${dish.name}" required>
                                        <small class="text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></small>
                                    </div>

                                    <div class="col-md-4 mb-3">
                                        <label for="price">Цена</label>
                                        <input th:field="*{price}" type="number" class="form-control" id="price"
                                               th:value="${dish.price}" required>
                                        <small class="text-danger" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></small>
                                    </div>

                                    <div class="col-md-4 mb-3">
                                        <label for="weight">Вес</label>
                                        <input th:field="*{weight}" type="number" class="form-control" id="weight" placeholder=""
                                               th:value="${dish.weight}" required>
                                        <small class="text-danger" th:if="${#fields.hasErrors('weight')}" th:errors="*{weight}"></small>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="btn-toolbar"><label for="category">Категория </label>
                                            <a th:href="@{/categories}">
                                                <svg class="bi bi-gear-fill" width="1.4em" height="1.4em" viewBox="-4 -4 20 20"
                                                     fill="white" xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd"
                                                          d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 01-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 01.872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 012.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 012.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 01.872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 01-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 01-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 100-5.86 2.929 2.929 0 000 5.858z"
                                                          clip-rule="evenodd"/>
                                                </svg>
                                            </a>
                                            <!--                            <button type="button" class="btn btn-secondary btn-sm">настроить</button>-->
                                        </div>
                                        <!--<select th:field="*{category}" class="form-control" id="category" required
                                        <select th:field="*{category}" class="form-control" id="category" required
                                                th:default="${dish.category}">
                                            &lt;!&ndash;<option value="noalcococktail">Безалкогольный коктейль</option>
                                            <option value="alcococktail">Алкогольный коктейль</option>
                                            <option value="hotdrink">Горячий напиток</option>
                                            <option value="alcohol">Спиртной напиток</option>
                                            <option value="dessert">Дессерт</option>
                                            <option value="first">Первое блюдо</option>
                                            <option value="salad">Салат</option>&ndash;&gt;
                                            <option value="Безалкогольный коктейль">Безалкогольный коктейль</option>
                                            <option value="Алкогольный коктейль">Алкогольный коктейль</option>
                                            <option value="Горячий напиток">Горячий напиток</option>
                                            <option value="Спиртной напиток">Спиртной напиток</option>
                                            <option value="Дессерт">Дессерт</option>
                                            &lt;!&ndash;<option value="Первое блюдо">Первое блюдо</option>
                                            <option value="Салат">Салат</option>&ndash;&gt;
                                        </select>-->
                                        <select th:field="*{category}" class="form-control" id="category" required
                                                th:default="${dish.category}">
                                            <option th:each="cat : ${categories}"
                                                    th:value="${cat.name}" th:text="${cat.name}"></option>
                                        </select>
                                    </div>

                                    <div class="col-md-6 mb-3">
                                        <label for="ingredients">Ингредиенты</label>
                                        <input th:field="*{ingredients}" type="text" class="form-control" id="ingredients"
                                               placeholder="" th:value="${dish.ingredients}" required>
                                    </div>
                                </div>
                                <hr class="mb-4">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-12 col-md-6">
                                            <button class="btn btn-warning btn-lg btn-block" type="submit" value="Submit">Сохранить
                                                блюдо
                                            </button>
                                        </div>
                                        <div class="col-12 col-md-6">
                                            <button type="button" class="btn btn-danger btn-lg btn-block"
                                                    th:onclick="'javascript:sure(\'' + ${dish.id} + '\');'">Удалить
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <!--                <input type="hidden" name="_method" value="delete">-->
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
</div>


<br/><br/><br/>
<script>
    function sure(id) {
        /*
                var path = "/dish_remove?id=" + id;
                var form = document.createElement("form");
                form.setAttribute("method", "delete");
                form.setAttribute("action", path);

                var hiddenField = document.createElement("input");
                hiddenField.setAttribute("type", "hidden");
                hiddenField.setAttribute("name", "1");
                hiddenField.setAttribute("value", '1');

                form.appendChild(hiddenField);

                document.body.appendChild(form);
        */

        var sured = confirm("Вы уверены, что хотите удалить блюдо?");
        if (sured) {
            // form.submit();
            document.location.href = "dish_remove?id=" + id;
        }
    }</script>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS-->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
<!-- Jquery Js -->
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script type="text/javascript" src="../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/element.js"></script>
<script type="text/javascript" src="../js/modernizr.js"></script>
<script type="text/javascript" src="../js/owl.carousel.js"></script>
<script type="text/javascript" src="../js/jquery.localscroll-1.2.7-min.js"></script>
<script type="text/javascript" src="../js/wow.min.js"></script>
<script type="text/javascript" src="../js/imagesloaded.pkgd.min.js"></script>
<script type="text/javascript" src="../js/jquery.isotope.min.js"></script>
<script type="text/javascript" src="../js/jquery.parallax-1.1.3.js"></script>
<script type="text/javascript" src="../js/jquery.magnific-popup.js"></script>
<script type="text/javascript" src="../js/moment-with-locales.js"></script>
<script type="text/javascript" src="../js/bootstrap-datetimepicker.js"></script>
</body>
</html>